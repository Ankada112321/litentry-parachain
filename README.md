# litentry-parachain
[![Build & Test](https://github.com/litentry/litentry-parachain/actions/workflows/build_and_run_test.yml/badge.svg)](https://github.com/litentry/litentry-parachain/actions/workflows/build_and_run_test.yml)
[![Update Pallets](https://github.com/litentry/litentry-parachain/actions/workflows/update_pallets.yml/badge.svg)](https://github.com/litentry/litentry-parachain/actions/workflows/update_pallets.yml)

The Litentry parachain.


## launch of local dev network

To start dev network locally with 2 relaychain nodes and 1 parachain node:
```
cd docker/generated-dev
docker-compose up -d --build
```

## manual builds

To build the litentry-parachain raw binary manually:
```
cargo build --release
```

To build the litentry/litentry-parachain docker image locally:
```
cd docker
./build.sh
```
The docker-compose.yml and other files within `generated-dev/` are generated by running
```
cd docker
./generate-docker-files.sh
```
Prerequisite: [parachain-launch](https://github.com/open-web3-stack/parachain-launch) must be installed.

To build staging env chain-specs, use `./generate-docker-files.sh staging`
staging env doesn't really run the service inside docker container, but the generated chain specs are useful.

The default leasing duration for parachain is 1 day, in case you want to extend it (even after it's downgraded to parathread), simply do a `forceLease` via sudo, it should be upgraded to parachain soon again and start to produce blocks.

![image](https://user-images.githubusercontent.com/7630809/135689832-1f57cd5c-7f83-4fce-9bb0-832b77a38dcc.png)


## run CI tests locally

To run the CI tests locally, dev network must be launched first as above, then:
```
cd ts-tests
./scripts/run-test.sh
```
You might need to clean-up the docker images/containers/volumes if you don't want them.
Please check [`ts-tests/scripts/clean-up.sh`](./ts-tests/scripts/clean-up.sh) for more.

## License
Apache-2.0


